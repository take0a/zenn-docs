---
title: "NestJSã§RESTï¼ˆãã®ï¼”ï¼‰"
emoji: "ğŸ¦"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["nestjs", "rest", "postgresql", "nodejs", "typescript"]
published: false
publication_name: "robon"
---
# å‰å›ã¾ã§

https://zenn.dev/robon/articles/f5e5907aa871a5

ä¸€æ—¦ã€å‹•ãã¾ã—ãŸã€‚ğŸ‘

# ä»•ä¸Šã’
## è¨­å®šãŒä¸¸è¦‹ãˆ

Node.jsã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ˆãã‚ã‚‹ã‚ˆã†ãª.envã«ã—ã¾ã™ã€‚

```.env.dev
DB_HOST=host
DB_USER=user
DB_PASS=pass
```

### @nestjs/configã®å°å…¥ã¨è¨­å®š

```bash
$ npm i --save @nestjs/config
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããŸã‚‰ã€app.modules.tsã‚’å¤‰æ›´ã—ã¦ãŠè¦‹ã›ã§ãã‚‹çŠ¶æ…‹ã«ã—ã¾ã™ã€‚

```ts:app.modules.ts
import { Module } from '@nestjs/common';
import { ConfigModule, ConfigService } from '@nestjs/config';
import { TypeOrmModule } from '@nestjs/typeorm';
import { AppController } from './app.controller';
import { AppService } from './app.service';
import { CustomersModule } from './customers/customers.module';
import { Customer } from './customers/entities/customer.entity';

@Module({
  imports: [
    ConfigModule.forRoot({
      envFilePath: '.env.dev',
    }),
    TypeOrmModule.forRootAsync({
      imports: [ConfigModule],
      useFactory: (configService: ConfigService) => ({
        type: 'postgres',
        host: configService.get('DB_HOST'),
        port: 5432,
        username: configService.get('DB_USER'),
        password: configService.get('DB_PASS'),
        database: 'postgres',
        entities: [Customer],
        logging: true,
        synchronize: false,
      }),
      inject: [ConfigService],
    }),
    CustomersModule,
  ],
  controllers: [AppController],
  providers: [AppService],
})
export class AppModule {}
```

ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«èª¬æ˜ãŒã‚ã‚Šã¾ã™ãŒã€forRootã‹ã‚‰forRootAsyncã«å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚

https://docs.nestjs.com/techniques/database


## æœ€åˆã«ã‚„ã‚ŠãŸã‹ã£ãŸã“ã¨

æœ€åˆã«ã‚„ã‚ŠãŸã‹ã£ãŸå…¨ä½“åƒã¯ã€ãã®ï¼‘ã‚’å‚ç…§ãã ã•ã„ã€‚

https://zenn.dev/robon/articles/76d4ec767b72ae

### productsã®è¿½åŠ 

ç‹¬ç«‹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å˜ä½“ãªã®ã§ã€customersã¨åŒæ§˜ã«ä½œã‚‹ã ã‘ã§ã™ã€‚

### ordersã®è¿½åŠ 



# æœ€å¾Œã«


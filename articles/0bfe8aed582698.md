---
title: "dbt Artifactsから見たdbt"
emoji: "🛠"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["python", "dbt", "uv", "duckdb"]
published: false
publication_name: "robon"
---

# はじめに

dbt に入門してみて、SQL 書いて、設定を書くとイイ感じにデータを加工してくれるというのが、なんかしっくりこないというか。。。プログラマな私としては、全てをプログラムで厳密に定義しつくせないのがもどかしいというか。。。

それでも、dbt の膨大なドキュメントを探索しているうちに、dbt Artifacts というものにたどり着きました。

https://docs.getdbt.com/reference/artifacts/dbt-artifacts

探していたのは、これかもしれない。。。

# dbt とは何か、dbt Artifacts とは何か

2025/5/29 に [2025 dbt launch Showcase](https://www.getdbt.com/blog/dbt-launch-showcase-2025-recap) に参加しました。その中で、CEO の Tristan Handy が言っていた

> I seriously, I still remember the fever dreams that I had back in 2016 of how I could build this awesome tools that stack tables and views recursively on top of each other to infinity, to views all the way down.

> 本当に、2016 年に私が抱いていた、テーブルとビューを無限に再帰的に積み重ね、ビューをずっと下まで積み重ねる素晴らしいツールを構築するという熱狂的な夢を今でも覚えています。

これが、dbt の本質なのだと思います。この夢へのツールの入力として、SQL と設定を投入している。その投入可能なすべての設定と実際に投入された（投入されてなくても、dbt がデフォルトで設定したものも含めた）値とその実行結果の値が dbt Artifacts に書かれている。。。

# dbt Artifacts

dbt Artifacts とは、以下の５つの JSON ファイルが中心となっているようです。

| ファイル名 | 生成タイミング |
|----|----|
| [semantic_manifest.json](https://docs.getdbt.com/reference/artifacts/sl-manifest) | dbt プロジェクトの解析 |
| [manifest.json](https://docs.getdbt.com/reference/artifacts/manifest-json) | プロジェクトを読み込んで理解するコマンドの実行 |
| [run_results.json](https://docs.getdbt.com/reference/artifacts/run-results-json) | DAG 内のノードを実行、コンパイル、カタログ化するコマンドの実行 |
| [catalog.json](https://docs.getdbt.com/reference/artifacts/catalog-json) | docs generate コマンドの実行 |
| [sources.json](https://docs.getdbt.com/reference/artifacts/sources-json) | source freshness コマンドの実行 |

その他は、[こちら](https://docs.getdbt.com/reference/artifacts/other-artifacts)を参照ください。

このうち、manifest.json の説明を引用すると、

> This single file contains a full representation of your dbt project's resources (models, tests, macros, etc), including all node configurations and resource properties. 

> この単一のファイルには、すべてのノード構成とリソース プロパティを含む、dbt プロジェクトのリソース (モデル、テスト、マクロなど) の完全な表現が含まれています。

ということで、こちらを深堀りしたいと思います。[JSON スキーマ](https://schemas.getdbt.com/)もあるので、[v12](https://schemas.getdbt.com/dbt/manifest/v12/index.html) の JSON スキーマを正とします。

## manifest.json（WritableManifest）

トップレベルの root オブジェクトになります。

以下、同様に末端まで調べていくと、完成した一覧が dbt に与えられる入出力の全体像になるというのが目論見です。説明は、できるだけドキュメントやソースのあるものにして、見つけられなかったものは、空欄にしておきます。

項目は、JSON スキーマ、型は、対応する Python コード、説明は、ドキュメントサイト（なければ Python コード）をベースにします。

| 項目 | 型 | 説明 |
|----|----|----|
| metadata | [ManifestMetadata](#manifestmetadata) | [Common metadata](https://docs.getdbt.com/reference/artifacts/dbt-artifacts#common-metadata) |
| nodes | Mapping[UniqueID, [ManifestResource](#manifestresource)] | Dictionary of all [analyses](#analysis), [models](#model), [seeds](#seed), [snapshots](#snapshot), and [tests](#singulartest). |
| sources | Mapping[UniqueID, [SourceDefinition](#sourcedefinition)] | Dictionary of sources. |
| macros | Mapping[UniqueID, [Macro](#macro)] | Dictionary of macros. |
| docs | Mapping[UniqueID, [Documentation](#documentation)] | Dictionary of docs blocks. |
| exposures | Mapping[UniqueID, [Exposure](#exposure)]  | Dictionary of exposures. |
| metrics | Mapping[UniqueID, [Metric](#metric)] | Dictionary of metrics. |
| groups | Mapping[UniqueID, [Group](#group)] | Dictionary of groups. |
| selectors | Mapping[UniqueID, Any] | Expanded dictionary representation of YAML selectors. |
| disabled | Optional[Mapping[UniqueID, List[[DisabledManifestResource](#disabledmanifestresource)]]] | Array of resources with enabled: false. |
| parent_map | Optional[NodeEdgeMap] | Dictionary that contains the first-order parents of each resource. |
| child_map | Optional[NodeEdgeMap] | Dictionary that contains the first-order children of each resource. |
| group_map | Optional[NodeEdgeMap] | Dictionary that maps group names to their resource nodes. |
| saved_queries | Mapping[UniqueID, [SavedQuery](#savedquery)] | The saved queries defined in the dbt project |
| semantic_models | Mapping[UniqueID, [SemanticModel](#semanticmodel)] | The semantic models defined in the dbt project |
| unit_tests | Mapping[UniqueID, [UnitTestDefinition](#unittestdefinition)] | The unit tests defined in the project |

## ManifestMetadata

ここから先、対応する Python コードは継承を使用していますが、継承は無視してフラットに展開します。（失礼ですが、共通化重視の継承でスパゲティ化しているため。is-a 関係が壊れているアンチパターンになっています。）

| 項目 | 型 | 説明 |
|----|----|----|
| dbt_schema_version | str | URL of this artifact's schema. |
| dbt_version | str | Version of dbt that produced this artifact. |
| generated_at | str | Timestamp in UTC when this artifact was produced. |
| invocation_id | Optional[str] | Unique identifier for this dbt invocation |
| invocation_started_at | Optional[datetime] |  |
| env | Dict[str, str] | Any environment variables prefixed with DBT_ENV_CUSTOM_ENV_ will be included in a dictionary, with the prefix-stripped variable name as its key. |
| project_name | Optional[str] | The name defined in the root project's dbt_project.yml |
| project_id | Optional[str] | Project identifier, hashed from project_name, sent with anonymous usage stats if enabled. |
| user_id | Optional[UUID] | User identifier, stored by default in ~/dbt/.user.yml, sent with anonymous usage stats if enabled. |
| send_anonymous_usage_stats | Optional[bool] | Whether this invocation sent anonymous usage statistics while executing. |
| adapter_type | Optional[str] | The adapter (database), e.g. postgres, spark, etc. |

## ManifestResource

このオブジェクトは、 Union[[Seed](#seed), [Analysis](#analysis), [SingularTest](#singulartest), [HookNode](#hooknodeoperation), [Model](#model), [SqlOperation](#sqloperation), [GenericTest](#generictest), [Snapshot](#snapshot)] です。

## Seed

このオブジェクトの継承階層は、`->ParsedResource->ParsedResourceMandatory->GraphResource, HasRelationMetadata` です。

| 項目 | 型 | 説明 |
|----|----|----|
| database | Optional[str] | Configure a database in your dbt_project.yml file. |
| schema | str | The schema name as stored in the database. |
| name | str | Resource name. |
| resource_type | Literal[NodeType.Seed] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| alias | str |  |
| checksum | FileHash |  |
| config | [SeedConfig](#seedconfig) |  |
| tags | List[str] |  |
| description | str | A user-defined description used to document |
| columns | Dict[str, [ColumnInfo](#columninfo)] |  |
| meta | Dict[str, Any] |  |
| group | Optional[str] |  |
| docs | Docs |  |
| patch_path | Optional[str] |  |
| build_path | Optional[str] |  |
| unrendered_config | Dict[str, Any] |  |
| created_at | float |  |
| config_call_dict | Dict[str, Any] |  |
| unrendered_config_call_dict | Dict[str, Any] |  |
| relation_name | Optional[str] |  |
| raw_code | str |  |
| doc_blocks | List[str] |  |
| root_path | Optional[str]  | Absolute file path of this resource's package.  |
| depends_on | MacroDependsOn |  |
| defer_relation | Optional[DeferRelation] |  |

### SeedConfig

このオブジェクトの継承階層は、`->NodeConfig->NodeAndTestConfig->BaseConfig->AdditionalPropertiesAllowed`

| 項目 | 型 | 説明 |
|----|----|----|
| _extra | Dict[str, Any] |  |
| enabled | bool | An optional configuration for enabling or disabling a resource. |
| alias | Optional[str] | Optionally specify a custom alias for a model, data test, snapshot, or seed. |
| schema | Optional[str] | Optionally specify a custom schema for a model, seed, snapshot, saved query, or test. |
| database | Optional[str] | Optionally specify a custom database for a model, seed, snapshot, or data test. |
| tags | Union[List[str], str] | Apply a tag (or list of tags) to a resource. |
| meta | Dict[str, Any] | The meta field can be used to set metadata for a resource and accepts any key-value pairs.  |
| group | Optional[str] | An optional configuration for assigning a group to a resource. |
| materialized | str |  |
| incremental_strategy | Optional[str] |  |
| batch_size | Any |  |
| lookback | Any |  |
| begin | Any |  |
| persist_docs | Dict[str, Any] | Optionally persist resource descriptions as column and relation comments in the database. |
| post-hook | List[Hook] | A SQL statement (or list of SQL statements) to be run before or after a model, seed, or snapshot is built. |
| pre-hook | List[Hook] | A SQL statement (or list of SQL statements) to be run before or after a model, seed, or snapshot is built. |
| quoting | Dict[str, Any] |  |
| column_types | Dict[str, Any] |  |
| full_refresh | Optional[bool] | The full_refresh config allows you to optionally configure whether a resource will always or never perform a full-refresh. |
| unique_key | Union[str, List[str], None] | A column name or expression that uniquely identifies each record in the inputs of a snapshot or incremental model. |
| on_schema_change | Optional[str] |  |
| on_configuration_change | OnConfigurationChangeOption |  |
| grants | Dict[str, Any]  | You can use the grants field to set permissions or grants for a resource.  |
| packages | List[str] |  |
| docs | Docs | The docs property can be used to provide documentation-specific configuration to models. |
| contract | ContractConfig |  |
| event_time | Any | dbt uses event_time to understand when an event occurred. |
| concurrent_batches | Any |  |
| delimiter | str |  |
| quote_columns | Optional[bool] |  |

### ColumnInfo

| 項目 | 型 | 説明 |
|----|----|----|
| name | str |  |
| description | str | A user-defined description used to document |
| meta | Dict[str, Any] |  |
| data_type | Optional[str] |  |
| constraints | List[ColumnLevelConstraint] | When specified, the platform will perform additional validation on data as it is being populated in a new table or inserted into a preexisting table. |
| quote | Optional[bool] | The quote field can be used to enable or disable quoting for column names. |
| tags | List[str] |  |
| _extra | Dict[str, Any] |  |
| granularity |  Optional[TimeGranularity] |  |
| doc_blocks | List[str]  |  |

## Analysis

このオブジェクトの継承階層は、`->CompiledResource->ParsedResource` （以下同文）

| 項目 | 型 | 説明 |
|----|----|----|
| database | Optional[str] | Configure a database in your dbt_project.yml file. |
| schema | str | The schema name as stored in the database. |
| name | str | Resource name. |
| resource_type | Literal[NodeType.Analysis] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| alias | str |  |
| checksum | FileHash |  |
| config | [NodeConfig](#nodeconfig) |  |
| tags | List[str] |  |
| description | str | A user-defined description used to document |
| columns | Dict[str, [ColumnInfo]](#columninfo) |  |
| meta | Dict[str, Any] |  |
| group | Optional[str] |  |
| docs | Docs |  |
| patch_path | Optional[str] |  |
| build_path | Optional[str] |  |
| unrendered_config | Dict[str, Any] |  |
| created_at | float |  |
| config_call_dict | Dict[str, Any] |  |
| unrendered_config_call_dict | Dict[str, Any] |  |
| relation_name | Optional[str] |  |
| raw_code | str |  |
| doc_blocks | List[str] |  |
| language | str |  |
| refs | List[RefArgs] |  |
| sources | List[List[str]] |  |
| metrics | List[List[str]] |  |
| depends_on | DependsOn |  |
| compiled_path | Optional[str] |  |
| compiled | bool |  |
| compiled_code | Optional[str] |  |
| extra_ctes_injected | bool |  |
| extra_ctes | List[InjectedCTE] |  |
| _pre_injected_sql | Optional[str] |  |
| contract | Contract |  |

### NodeConfig

| 項目 | 型 | 説明 |
|----|----|----|
| _extra | Dict[str, Any] |  |
| enabled | bool | An optional configuration for enabling or disabling a resource. |
| alias | Optional[str] | Optionally specify a custom alias for a model, data test, snapshot, or seed. |
| schema | Optional[str] | Optionally specify a custom schema for a model, seed, snapshot, saved query, or test. |
| database | Optional[str] | Optionally specify a custom database for a model, seed, snapshot, or data test. |
| tags | Union[List[str], str] | Apply a tag (or list of tags) to a resource. |
| meta | Dict[str, Any] | The meta field can be used to set metadata for a resource and accepts any key-value pairs.  |
| group | Optional[str] | An optional configuration for assigning a group to a resource. |
| materialized | str |  |
| incremental_strategy | Optional[str] |  |
| batch_size | Any |  |
| lookback | Any |  |
| begin | Any |  |
| persist_docs | Dict[str, Any] | Optionally persist resource descriptions as column and relation comments in the database. |
| post-hook | List[Hook] | A SQL statement (or list of SQL statements) to be run before or after a model, seed, or snapshot is built. |
| pre-hook | List[Hook] | A SQL statement (or list of SQL statements) to be run before or after a model, seed, or snapshot is built. |
| quoting | Dict[str, Any] |  |
| column_types | Dict[str, Any] |  |
| full_refresh | Optional[bool] | The full_refresh config allows you to optionally configure whether a resource will always or never perform a full-refresh. |
| unique_key | Union[str, List[str], None] | A column name or expression that uniquely identifies each record in the inputs of a snapshot or incremental model. |
| on_schema_change | Optional[str] |  |
| on_configuration_change | OnConfigurationChangeOption |  |
| grants | Dict[str, Any]  | You can use the grants field to set permissions or grants for a resource.  |
| packages | List[str] |  |
| docs | Docs | The docs property can be used to provide documentation-specific configuration to models. |
| contract | ContractConfig |  |
| event_time | Any | dbt uses event_time to understand when an event occurred. |
| concurrent_batches | Any |  |

## SingularTest

このオブジェクトの継承階層は、`->CompiledResource` （以下同文かつ resource_type と config 以外は、[Analysis](#analysis) と同じ）

| 項目 | 型 | 説明 |
|----|----|----|
| database | Optional[str] | Configure a database in your dbt_project.yml file. |
| schema | str | The schema name as stored in the database. |
| name | str | Resource name. |
| resource_type | Literal[NodeType.Test] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| alias | str |  |
| checksum | FileHash |  |
| config | [TestConfig](#testconfig) |  |
| tags | List[str] |  |
| description | str | A user-defined description used to document |
| columns | Dict[str, [ColumnInfo]](#columninfo) |  |
| meta | Dict[str, Any] |  |
| group | Optional[str] |  |
| docs | Docs |  |
| patch_path | Optional[str] |  |
| build_path | Optional[str] |  |
| unrendered_config | Dict[str, Any] |  |
| created_at | float |  |
| config_call_dict | Dict[str, Any] |  |
| unrendered_config_call_dict | Dict[str, Any] |  |
| relation_name | Optional[str] |  |
| raw_code | str |  |
| doc_blocks | List[str] |  |
| language | str |  |
| refs | List[RefArgs] |  |
| sources | List[List[str]] |  |
| metrics | List[List[str]] |  |
| depends_on | DependsOn |  |
| compiled_path | Optional[str] |  |
| compiled | bool |  |
| compiled_code | Optional[str] |  |
| extra_ctes_injected | bool |  |
| extra_ctes | List[InjectedCTE] |  |
| _pre_injected_sql | Optional[str] |  |
| contract | Contract |  |

### TestConfig

このオブジェクトの継承階層は、`->NodeAndTestConfig`

| 項目 | 型 | 説明 |
|----|----|----|
| _extra | Dict[str, Any] |  |
| enabled | bool | An optional configuration for enabling or disabling a resource. |
| alias | Optional[str] | Optionally specify a custom alias for a model, data test, snapshot, or seed. |
| schema | Optional[str] | Optionally specify a custom schema for a model, seed, snapshot, saved query, or test. |
| database | Optional[str] | Optionally specify a custom database for a model, seed, snapshot, or data test. |
| tags | Union[List[str], str] | Apply a tag (or list of tags) to a resource. |
| meta | Dict[str, Any] | The meta field can be used to set metadata for a resource and accepts any key-value pairs.  |
| group | Optional[str] | An optional configuration for assigning a group to a resource. |
| materialized | str |  |
| severity | Annotated[Severity, Pattern(SEVERITY_PATTERN)] |  |
| store_failures | Optional[bool] |  |
| store_failures_as | Optional[str] |  |
| where | Optional[str] |  |
| limit | Optional[int] |  |
| fail_calc | str |  |
| warn_if | str |  |
| error_if | str |  |

## HookNode（Operation）

このオブジェクトの継承階層は、`->CompiledResource` （以下同文かつ resource_type と index 以外は、[Analysis](#analysis) と同じ）

| 項目 | 型 | 説明 |
|----|----|----|
| database | Optional[str] | Configure a database in your dbt_project.yml file. |
| schema | str | The schema name as stored in the database. |
| name | str | Resource name. |
| resource_type | Literal[NodeType.Operation] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| alias | str |  |
| checksum | FileHash |  |
| config | [NodeConfig](#nodeconfig) |  |
| tags | List[str] |  |
| description | str | A user-defined description used to document |
| columns | Dict[str, [ColumnInfo]](#columninfo) |  |
| meta | Dict[str, Any] |  |
| group | Optional[str] |  |
| docs | Docs |  |
| patch_path | Optional[str] |  |
| build_path | Optional[str] |  |
| unrendered_config | Dict[str, Any] |  |
| created_at | float |  |
| config_call_dict | Dict[str, Any] |  |
| unrendered_config_call_dict | Dict[str, Any] |  |
| relation_name | Optional[str] |  |
| raw_code | str |  |
| doc_blocks | List[str] |  |
| language | str |  |
| refs | List[RefArgs] |  |
| sources | List[List[str]] |  |
| metrics | List[List[str]] |  |
| depends_on | DependsOn |  |
| compiled_path | Optional[str] |  |
| compiled | bool |  |
| compiled_code | Optional[str] |  |
| extra_ctes_injected | bool |  |
| extra_ctes | List[InjectedCTE] |  |
| _pre_injected_sql | Optional[str] |  |
| contract | Contract |  |
| index | Optional[int] |  |

## Model

このオブジェクトの継承階層は、`->CompiledResource` （ここは独自項目が末尾にいくつかあります）

| 項目 | 型 | 説明 |
|----|----|----|
| database | Optional[str] | Configure a database in your dbt_project.yml file. |
| schema | str | The schema name as stored in the database. |
| name | str | Resource name. |
| resource_type | Literal[NodeType.Model] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| alias | str |  |
| checksum | FileHash |  |
| config | [ModelConfig](#modelconfig) |  |
| tags | List[str] |  |
| description | str | A user-defined description used to document |
| columns | Dict[str, [ColumnInfo]](#columninfo) |  |
| meta | Dict[str, Any] |  |
| group | Optional[str] |  |
| docs | Docs |  |
| patch_path | Optional[str] |  |
| build_path | Optional[str] |  |
| unrendered_config | Dict[str, Any] |  |
| created_at | float |  |
| config_call_dict | Dict[str, Any] |  |
| unrendered_config_call_dict | Dict[str, Any] |  |
| relation_name | Optional[str] |  |
| raw_code | str |  |
| doc_blocks | List[str] |  |
| language | str |  |
| refs | List[RefArgs] |  |
| sources | List[List[str]] |  |
| metrics | List[List[str]] |  |
| depends_on | DependsOn |  |
| compiled_path | Optional[str] |  |
| compiled | bool |  |
| compiled_code | Optional[str] |  |
| extra_ctes_injected | bool |  |
| extra_ctes | List[InjectedCTE] |  |
| _pre_injected_sql | Optional[str] |  |
| contract | Contract |  |
| access | AccessType | The access level of the model you are declaring properties for. |
| constraints | List[ModelLevelConstraint] | When specified, the platform will perform additional validation on data as it is being populated in a new table or inserted into a preexisting table. |
| version | Optional[NodeVersion] |  |
| latest_version | Optional[NodeVersion] | The latest version of this model. |
| deprecation_date | Optional[datetime] | The deprecation date of the model is formatted as a date, optionally with a timezone offset.  |
| defer_relation | Optional[DeferRelation] |  |
| primary_key | List[str] |  |
| time_spine | Optional[TimeSpine] |  |
| freshness | Optional[ModelFreshness] |  |

### ModelConfig

このオブジェクトの継承階層は、`->NodeConfig`

| 項目 | 型 | 説明 |
|----|----|----|
| _extra | Dict[str, Any] |  |
| enabled | bool | An optional configuration for enabling or disabling a resource. |
| alias | Optional[str] | Optionally specify a custom alias for a model, data test, snapshot, or seed. |
| schema | Optional[str] | Optionally specify a custom schema for a model, seed, snapshot, saved query, or test. |
| database | Optional[str] | Optionally specify a custom database for a model, seed, snapshot, or data test. |
| tags | Union[List[str], str] | Apply a tag (or list of tags) to a resource. |
| meta | Dict[str, Any] | The meta field can be used to set metadata for a resource and accepts any key-value pairs.  |
| group | Optional[str] | An optional configuration for assigning a group to a resource. |
| materialized | str |  |
| incremental_strategy | Optional[str] |  |
| batch_size | Any |  |
| lookback | Any |  |
| begin | Any |  |
| persist_docs | Dict[str, Any] | Optionally persist resource descriptions as column and relation comments in the database. |
| post-hook | List[Hook] | A SQL statement (or list of SQL statements) to be run before or after a model, seed, or snapshot is built. |
| pre-hook | List[Hook] | A SQL statement (or list of SQL statements) to be run before or after a model, seed, or snapshot is built. |
| quoting | Dict[str, Any] |  |
| column_types | Dict[str, Any] |  |
| full_refresh | Optional[bool] | The full_refresh config allows you to optionally configure whether a resource will always or never perform a full-refresh. |
| unique_key | Union[str, List[str], None] | A column name or expression that uniquely identifies each record in the inputs of a snapshot or incremental model. |
| on_schema_change | Optional[str] |  |
| on_configuration_change | OnConfigurationChangeOption |  |
| grants | Dict[str, Any]  | You can use the grants field to set permissions or grants for a resource.  |
| packages | List[str] |  |
| docs | Docs | The docs property can be used to provide documentation-specific configuration to models. |
| contract | ContractConfig |  |
| event_time | Any | dbt uses event_time to understand when an event occurred. |
| concurrent_batches | Any |  |
| access | AccessType |  |

※ Python には、`freshness: Optional[ModelFreshness]` がある。

## SqlOperation

このオブジェクトの継承階層は、`->CompiledResource` （以下同文かつ resource_type 以外は、[Analysis](#analysis) と同じ）

| 項目 | 型 | 説明 |
|----|----|----|
| database | Optional[str] | Configure a database in your dbt_project.yml file. |
| schema | str | The schema name as stored in the database. |
| name | str | Resource name. |
| resource_type | Literal[NodeType.SqlOperation] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| alias | str |  |
| checksum | FileHash |  |
| config | [NodeConfig](#nodeconfig) |  |
| tags | List[str] |  |
| description | str | A user-defined description used to document |
| columns | Dict[str, [ColumnInfo]](#columninfo) |  |
| meta | Dict[str, Any] |  |
| group | Optional[str] |  |
| docs | Docs |  |
| patch_path | Optional[str] |  |
| build_path | Optional[str] |  |
| unrendered_config | Dict[str, Any] |  |
| created_at | float |  |
| config_call_dict | Dict[str, Any] |  |
| unrendered_config_call_dict | Dict[str, Any] |  |
| relation_name | Optional[str] |  |
| raw_code | str |  |
| doc_blocks | List[str] |  |
| language | str |  |
| refs | List[RefArgs] |  |
| sources | List[List[str]] |  |
| metrics | List[List[str]] |  |
| depends_on | DependsOn |  |
| compiled_path | Optional[str] |  |
| compiled | bool |  |
| compiled_code | Optional[str] |  |
| extra_ctes_injected | bool |  |
| extra_ctes | List[InjectedCTE] |  |
| _pre_injected_sql | Optional[str] |  |
| contract | Contract |  |

## GenericTest

このオブジェクトの継承階層は、`->CompiledResource` （ここは独自項目が末尾にいくつかあります）

| 項目 | 型 | 説明 |
|----|----|----|
| database | Optional[str] | Configure a database in your dbt_project.yml file. |
| schema | str | The schema name as stored in the database. |
| name | str | Resource name. |
| resource_type | Literal[NodeType.Test] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| alias | str |  |
| checksum | FileHash |  |
| config | [TestConfig](#testconfig) |  |
| tags | List[str] |  |
| description | str | A user-defined description used to document |
| columns | Dict[str, [ColumnInfo]](#columninfo) |  |
| meta | Dict[str, Any] |  |
| group | Optional[str] |  |
| docs | Docs |  |
| patch_path | Optional[str] |  |
| build_path | Optional[str] |  |
| unrendered_config | Dict[str, Any] |  |
| created_at | float |  |
| config_call_dict | Dict[str, Any] |  |
| unrendered_config_call_dict | Dict[str, Any] |  |
| relation_name | Optional[str] |  |
| raw_code | str |  |
| doc_blocks | List[str] |  |
| language | str |  |
| refs | List[RefArgs] |  |
| sources | List[List[str]] |  |
| metrics | List[List[str]] |  |
| depends_on | DependsOn |  |
| compiled_path | Optional[str] |  |
| compiled | bool |  |
| compiled_code | Optional[str] |  |
| extra_ctes_injected | bool |  |
| extra_ctes | List[InjectedCTE] |  |
| _pre_injected_sql | Optional[str] |  |
| contract | Contract |  |
| column_name | Optional[str] |  |
| file_key_name | Optional[str] |  |
| attached_node | Optional[str] |  |
| test_metadata | TestMetadata |  |

## Snapshot

このオブジェクトの継承階層は、`->CompiledResource` （以下同文かつ resource_type と config と defer_relation 以外は、[Analysis](#analysis) と同じ）

| 項目 | 型 | 説明 |
|----|----|----|
| database | Optional[str] | Configure a database in your dbt_project.yml file. |
| schema | str | The schema name as stored in the database. |
| name | str | Resource name. |
| resource_type | Literal[NodeType.Snapshot] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| alias | str |  |
| checksum | FileHash |  |
| config | [SnapshotConfig](#snapshotconfig) |  |
| tags | List[str] |  |
| description | str | A user-defined description used to document |
| columns | Dict[str, [ColumnInfo]](#columninfo) |  |
| meta | Dict[str, Any] |  |
| group | Optional[str] |  |
| docs | Docs |  |
| patch_path | Optional[str] |  |
| build_path | Optional[str] |  |
| unrendered_config | Dict[str, Any] |  |
| created_at | float |  |
| config_call_dict | Dict[str, Any] |  |
| unrendered_config_call_dict | Dict[str, Any] |  |
| relation_name | Optional[str] |  |
| raw_code | str |  |
| doc_blocks | List[str] |  |
| language | str |  |
| refs | List[RefArgs] |  |
| sources | List[List[str]] |  |
| metrics | List[List[str]] |  |
| depends_on | DependsOn |  |
| compiled_path | Optional[str] |  |
| compiled | bool |  |
| compiled_code | Optional[str] |  |
| extra_ctes_injected | bool |  |
| extra_ctes | List[InjectedCTE] |  |
| _pre_injected_sql | Optional[str] |  |
| contract | Contract |  |
| defer_relation | Optional[DeferRelation] |  |

### SnapshotConfig

このオブジェクトの継承階層は、`->NodeConfig`

| 項目 | 型 | 説明 |
|----|----|----|
| _extra | Dict[str, Any] |  |
| enabled | bool | An optional configuration for enabling or disabling a resource. |
| alias | Optional[str] | Optionally specify a custom alias for a model, data test, snapshot, or seed. |
| schema | Optional[str] | Optionally specify a custom schema for a model, seed, snapshot, saved query, or test. |
| database | Optional[str] | Optionally specify a custom database for a model, seed, snapshot, or data test. |
| tags | Union[List[str], str] | Apply a tag (or list of tags) to a resource. |
| meta | Dict[str, Any] | The meta field can be used to set metadata for a resource and accepts any key-value pairs.  |
| group | Optional[str] | An optional configuration for assigning a group to a resource. |
| materialized | str |  |
| incremental_strategy | Optional[str] |  |
| batch_size | Any |  |
| lookback | Any |  |
| begin | Any |  |
| persist_docs | Dict[str, Any] | Optionally persist resource descriptions as column and relation comments in the database. |
| post-hook | List[Hook] | A SQL statement (or list of SQL statements) to be run before or after a model, seed, or snapshot is built. |
| pre-hook | List[Hook] | A SQL statement (or list of SQL statements) to be run before or after a model, seed, or snapshot is built. |
| quoting | Dict[str, Any] |  |
| column_types | Dict[str, Any] |  |
| full_refresh | Optional[bool] | The full_refresh config allows you to optionally configure whether a resource will always or never perform a full-refresh. |
| unique_key | Union[str, List[str], None] | A column name or expression that uniquely identifies each record in the inputs of a snapshot or incremental model. |
| on_schema_change | Optional[str] |  |
| on_configuration_change | OnConfigurationChangeOption |  |
| grants | Dict[str, Any]  | You can use the grants field to set permissions or grants for a resource.  |
| packages | List[str] |  |
| docs | Docs | The docs property can be used to provide documentation-specific configuration to models. |
| contract | ContractConfig |  |
| event_time | Any | dbt uses event_time to understand when an event occurred. |
| concurrent_batches | Any |  |
| strategy | Optional[str] |  |
| target_schema | Optional[str] |  |
| target_database | Optional[str] |  |
| updated_at | Optional[str] |  |
| check_cols | Union[str, List[str], None] |  |
| snapshot_meta_column_names | SnapshotMetaColumnNames |  |
| dbt_valid_to_current | Optional[str] |  |

## SourceDefinition

このオブジェクトの継承階層は、`->ParsedSourceMandatory->GraphResource, HasRelationMetadata` です。

| 項目 | 型 | 説明 |
|----|----|----|
| database | Optional[str] | Configure a database in your dbt_project.yml file. |
| schema | str | The schema name as stored in the database. |
| name | str | Resource name. |
| resource_type | Literal[NodeType.Source] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| source_name | str |  |
| source_description | str |  |
| loader | str |  |
| identifier | str |  |
| quoting | Quoting |  |
| loaded_at_field | Optional[str] |  |
| loaded_at_query | Optional[str] |  |
| freshness | Optional[FreshnessThreshold] |  |
| external | Optional[ExternalTable] |  |
| description | str | A user-defined description used to document |
| columns | Dict[str, [ColumnInfo]](#columninfo) |  |
| meta | Dict[str, Any] |  |
| source_meta | Dict[str, Any] |  |
| tags | List[str] |  |
| config | [SourceConfig](#sourceconfig) |  |
| patch_path | Optional[str] |  |
| unrendered_config | Dict[str, Any] |  |
| relation_name | Optional[str] |  |
| created_at | float |  |
| unrendered_database | Optional[str] |  |
| unrendered_schema | Optional[str] |  |
| doc_blocks | List[str] |  |

### SourceConfig

| 項目 | 型 | 説明 |
|----|----|----|
|  |  |  |

## Macro

このオブジェクトの継承階層は、`->BaseResource` です。

| 項目 | 型 | 説明 |
|----|----|----|
| name | str | Resource name. |
| resource_type | Literal[NodeType.Macro] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| macro_sql | str |  |
| depends_on | MacroDependsOn |  |
| description | str | A user-defined description used to document |
| meta | Dict[str, Any] |  |
| docs | Docs |  |
| patch_path | Optional[str] |  |
| arguments | List[MacroArgument] |  |
| created_at | float |  |
| supported_languages | Optional[List[ModelLanguage]] |  |

## Documentation

このオブジェクトの継承階層は、`->BaseResource` です。

| 項目 | 型 | 説明 |
|----|----|----|
| name | str | Resource name. |
| resource_type | Literal[NodeType.Documentation] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| block_contents | str |  |

## Exposure

このオブジェクトの継承階層は、`->GraphResource` です。

| 項目 | 型 | 説明 |
|----|----|----|
| name | str | Resource name. |
| resource_type | Literal[NodeType.Exposure] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| type | ExposureType |  |
| owner | Owner |  |
| description | str | A user-defined description used to document |
| label | Optional[str] |  |
| maturity | Optional[MaturityType] |  |
| meta | Dict[str, Any] |  |
| tags | List[str] |  |
| config | ExposureConfig |  |
| unrendered_config | Dict[str, Any] |  |
| url | Optional[str] |  |
| depends_on | DependsOn |  |
| refs | List[RefArgs] |  |
| sources | List[List[str]] |  |
| metrics | List[List[str]] |  |
| created_at | float |  |

## Metric

このオブジェクトの継承階層は、`->GraphResource` です。

| 項目 | 型 | 説明 |
|----|----|----|
| name | str | Resource name. |
| resource_type | Literal[NodeType.Metric] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| description | str | A user-defined description used to document |
| label | str |  |
| type | MetricType |  |
| type_params | MetricTypeParams |  |
| filter | Optional[WhereFilterIntersection] |  |
| metadata | Optional[SourceFileMetadata] |  |
| time_granularity | Optional[str] |  |
| meta | Dict[str, Any] |  |
| tags | List[str] |  |
| config | MetricConfig |  |
| unrendered_config | Dict[str, Any] |  |
| sources | List[List[str]] |  |
| depends_on | DependsOn |  |
| refs | List[RefArgs] |  |
| metrics | List[List[str]] |  |
| created_at | float |  |
| group | Optional[str] |  |

## Group

このオブジェクトの継承階層は、`->BaseResource` です。

| 項目 | 型 | 説明 |
|----|----|----|
| name | str | Resource name. |
| resource_type | Literal[NodeType.Group] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| owner | Owner |  |

※ Python には、`description: Optional[str]` と `config: GroupConfig` の記載あり。

## DisabledManifestResource

このオブジェクトは、Union[[ManifestResource](#manifestresource), [SourceDefinition](#sourcedefinition), [Exposure](#exposure), [Metric](#metric), [SavedQuery](#savedquery), [SemanticModel](#semanticmodel), [UnitTestDefinition](#unittestdefinition)] です。

## SavedQuery

このオブジェクトの継承階層は、`->SavedQueryMandatory->GraphResource` です。

| 項目 | 型 | 説明 |
|----|----|----|
| name | str | Resource name. |
| resource_type | Literal[NodeType.SavedQuery] |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| query_params | QueryParams |  |
| exports | List[Export] |  |
| description | Optional[str] |  |
| label | Optional[str] |  |
| metadata | Optional[SourceFileMetadata] |  |
| config | [SavedQueryConfig](#savedqueryconfig) |  |
| unrendered_config | Dict[str, Any] |  |
| group | Optional[str] |  |
| depends_on | DependsOn |  |
| created_at | float |  |
| refs | List[RefArgs] |  |
| tags | Union[List[str], str] |  |

### SavedQueryConfig

| 項目 | 型 | 説明 |
|----|----|----|
|  |  |  |

## SemanticModel

このオブジェクトの継承階層は、`->GraphResource` です。

| 項目 | 型 | 説明 |
|----|----|----|
| name | str | Resource name. |
| resource_type | NodeType |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| model | str |  |
| node_relation | Optional[NodeRelation] |  |
| description | Optional[str] |  |
| label | Optional[str] |  |
| defaults | Optional[Defaults] |  |
| entities | Sequence[Entity] |  |
| measures | Sequence[Measure] |  |
| dimensions | Sequence[Dimension] |  |
| metadata | Optional[SourceFileMetadata] |  |
| depends_on | DependsOn |  |
| refs | List[RefArgs] |  |
| created_at | float |  |
| config | [SemanticModelConfig](#semanticmodelconfig) |  |
| unrendered_config | Dict[str, Any] |  |
| primary_entity | Optional[str] |  |
| group | Optional[str] |  |

### SemanticModelConfig

| 項目 | 型 | 説明 |
|----|----|----|
|  |  |  |

## UnitTestDefinition

このオブジェクトの継承階層は、`->GraphResource, UnitTestDefinitionMandatory` です。

| 項目 | 型 | 説明 |
|----|----|----|
| model | str |  |
| given | Sequence[UnitTestInputFixture] |  |
| expect | UnitTestOutputFixture |  |
| name | str | Resource name. |
| resource_type | NodeType |  |
| package_name | str | Name of package that defines this resource. |
| path | str | Relative file path of this resource's definition within its "resource path" |
| original_file_path | str | Relative file path of this resource's definition, including its resource path. |
| unique_id | str | <resource_type>.<package>.<resource_name>, same as dictionary key |
| fqn | List[str] | "fully qualified names" (FQN) within the dbt graph |
| description | str | A user-defined description used to document |
| overrides |  Optional[UnitTestOverrides] |  |
| depends_on | DependsOn |  |
| config | [UnitTestConfig](#unittestconfig) |  |
| checksum | Optional[str] |  |
| schema | Optional[str] |  |
| created_at | float |  |
| versions | Optional[UnitTestNodeVersions] |  |
| version | Optional[NodeVersion] |  |

### UnitTestConfig

| 項目 | 型 | 説明 |
|----|----|----|
|  |  |  |

# おわりに

